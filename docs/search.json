[{"path":"https://psrc.github.io/psrcctpp/articles/psrcctpp_basics.html","id":"why-ctpp-data","dir":"Articles","previous_headings":"","what":"Why CTPP data?","title":"psrcctpp basics","text":"Although derived American Community Survey (ACS), CTPP includes data items published ACS release, scales substantially smaller ACS Public Use Microdata (PUMS). ACS products, consistent across scales, supports longitudinal analysis, includes margins error. authoritative nationwide, Census Bureau source transportation flow data particular. primary drawback CTPP data approximately 3-year lag develop ; since ’s restricted non-overlapping 5-year spans, may involve remove nearly seven years conclusion first year reported span. Issues transportation impacts accompanying 2020 Covid pandemic long signature data (.e. next data without arrive around 2029).","code":""},{"path":"https://psrc.github.io/psrcctpp/articles/psrcctpp_basics.html","id":"retrieve-ctpp-data","dir":"Articles","previous_headings":"","what":"Retrieve CTPP data","title":"psrcctpp basics","text":"psrcctpp package retrieves data one table time, get_psrc_ctpp() function. parameters : scale - residence workplace tables, either “county”, “place”, “tract” flow tables, either “county-county”, “place-place”, “place-county”, “county-place”, “tract-tract” “block group” scale available starting 2017-21 survey. table_code - identifier (string) table want dyear - aka data year, last year CTPP span (.e. 2016 2012-16) (optional) list geoids restrict table result standard dataframe. Notice results include res_geoid, res_label work_geoid, work_label fields, work fields blank residential tables residence fields blank workplace tables. Strings default stored characters rather Factor datatype.","code":"shhh <- suppressPackageStartupMessages shhh(library(psrcctpp)) shhh(library(magrittr)) shhh(library(dplyr))  x <- get_psrc_ctpp(\"tract\", \"A202105\", 2016) head(x[,6:9]) ##                                    work_label category estimate estimate_moe ## 1:    Census Tract 1, King County, Washington    Total     1430          282 ## 2:    Census Tract 2, King County, Washington    Total      905          205 ## 3:    Census Tract 3, King County, Washington    Total      740          186 ## 4: Census Tract 4.01, King County, Washington    Total      950          177 ## 5: Census Tract 4.02, King County, Washington    Total     1670          301 ## 6:    Census Tract 5, King County, Washington    Total      265           87"},{"path":"https://psrc.github.io/psrcctpp/articles/psrcctpp_basics.html","id":"create-custom-variables-and-use-them-to-aggregate-ctpp-data","dir":"Articles","previous_headings":"","what":"Create custom variables and use them to aggregate CTPP data","title":"psrcctpp basics","text":"CTPP data tables include totals well category breakdowns, wish define either custom category custom geography (aggregate smaller geography, e.g. tract block group), can create grouping variable, summarize using variable, follows. Notice incl_na= option can used limit results without needing filter input data first. can utilize convenience function ctpp_shares() append share share MOE CTPP dataset (long contains category totals, typically true).","code":"shhh(library(stringr)) x %<>% mutate(   custom_geo=case_when(                str_sub(work_geoid,4L,11L) %in% paste0(\"3302380\",3:4)         ~ \"Downtown Bellevue\",                str_sub(work_geoid,4L,11L) %in% paste0(\"61040\",c(4,7:8),\"00\") ~ \"Downtown Everett\",                TRUE                                                          ~ NA_character_),   category=case_when(grepl(\" carpool$\", category)                       ~\"Carpool\",                      grepl(\"Drove alone\", category)                     ~\"Drove Alone\",                      grepl(\"Streetcar|Bus|Subway|Ferry|Rail\", category) ~\"Transit\",                      grepl(\"Bicycle|Walked\", category)                  ~\"Bike/Ped\",                      !is.na(category)                                   ~category)) rs <- psrc_ctpp_sum(x, group_vars=\"custom_geo\", incl_na=FALSE) %>% ctpp_shares() head(rs[,3:8]) ## # A tibble: 6 × 6 ##   custom_geo        category    estimate estimate_moe  share share_moe ##   <chr>             <chr>          <dbl>        <dbl>  <dbl>     <dbl> ## 1 Downtown Bellevue Total          35780        1475. 1         0.0583 ## 2 Downtown Everett  Total          13970         795. 1         0.0805 ## 3 Downtown Bellevue Drove Alone    23440        1217. 0.655     0.0207 ## 4 Downtown Everett  Drove Alone    10580         644. 0.757     0.0163 ## 5 Downtown Bellevue Carpool         3080         443. 0.0861    0.0119 ## 6 Downtown Everett  Carpool         1120         207. 0.0802    0.0141"},{"path":"https://psrc.github.io/psrcctpp/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Craig Helmann. Author. Suzanne Childress. Maintainer. Christy Lam. Author. Chris Peak. Author. Michael Jensen. Author.","code":""},{"path":"https://psrc.github.io/psrcctpp/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Helmann C, Lam C, Peak C, Jensen M (2022). psrcctpp: Tools utilize Census Transportation Planning Package (CTPP) data via AASHTO API. R package version 0.1.0, https://psrc.github.io/psrcctpp/.","code":"@Manual{,   title = {psrcctpp: Tools to utilize Census Transportation Planning Package (CTPP) data via the AASHTO API},   author = {Craig Helmann and Christy Lam and Chris Peak and Michael Jensen},   year = {2022},   note = {R package version 0.1.0},   url = {https://psrc.github.io/psrcctpp/}, }"},{"path":"https://psrc.github.io/psrcctpp/index.html","id":"psrcctpp","dir":"","previous_headings":"","what":"Tools to utilize Census Transportation Planning Package (CTPP) data via the AASHTO API","title":"Tools to utilize Census Transportation Planning Package (CTPP) data via the AASHTO API","text":"Tools utilize Census Transportation Planning Package (CTPP) data geographies Central Puget Sound Region. Install following command: devtools::install_github(\"psrc/psrcctpp\") problems installing package, make sure latest dependency packages. may prompted install dependency packages ; can install selecting option 1, “Install ”.","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/api_gofer.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch API results — api_gofer","title":"Fetch API results — api_gofer","text":"Helper function sending API call & parsing response","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/api_gofer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch API results — api_gofer","text":"","code":"api_gofer(url)"},{"path":"https://psrc.github.io/psrcctpp/reference/api_gofer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch API results — api_gofer","text":"url api call","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/api_gofer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch API results — api_gofer","text":"data table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_shares.html","id":null,"dir":"Reference","previous_headings":"","what":"Add shares to CTPP table — ctpp_shares","title":"Add shares to CTPP table — ctpp_shares","text":"Add shares CTPP table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_shares.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add shares to CTPP table — ctpp_shares","text":"","code":"ctpp_shares(df)"},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_shares.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add shares to CTPP table — ctpp_shares","text":"df dataframe, either result get_psrc_ctpp psrc_ctpp_stat","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_shares.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add shares to CTPP table — ctpp_shares","text":"dataframe share & share_moe","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_stat.html","id":null,"dir":"Reference","previous_headings":"","what":"CTPP summary statistics — ctpp_stat","title":"CTPP summary statistics — ctpp_stat","text":"CTPP summary statistics Generate CTPP sums","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_stat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CTPP summary statistics — ctpp_stat","text":"","code":"psrc_ctpp_sum(df, group_vars = NULL, incl_na = TRUE)"},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_stat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"CTPP summary statistics — ctpp_stat","text":"df result get_psrc_ctpp function group_vars grouping variables, original added incl_na whether include NA lines","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_stat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"CTPP summary statistics — ctpp_stat","text":"table variable names labels, summary statistic margin error","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_tblsearch.html","id":null,"dir":"Reference","previous_headings":"","what":"Search CTPP table codes — ctpp_tblsearch","title":"Search CTPP table codes — ctpp_tblsearch","text":"Search CTPP table codes","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_tblsearch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search CTPP table codes — ctpp_tblsearch","text":"","code":"ctpp_tblsearch(regex, year = 2016)"},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_tblsearch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search CTPP table codes — ctpp_tblsearch","text":"regex string pattern match year last 5-year CTPP span, e.g. 2016 ctpp1216 survey","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/ctpp_tblsearch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search CTPP table codes — ctpp_tblsearch","text":"data table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve CTPP data — get_psrc_ctpp","title":"Retrieve CTPP data — get_psrc_ctpp","text":"Retrieve CTPP data","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve CTPP data — get_psrc_ctpp","text":"","code":"get_psrc_ctpp(scale, table_code, dyear = 2016, geoids = NULL)"},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve CTPP data — get_psrc_ctpp","text":"scale \"county\", \"place\", \"tract\" residence/workplace tables; \"county-county\", \"place-place\", \"place-county\", \"county-place\", \"tract-tract\" O-D tables table_code requested data table string, e.g. \"A302103\" dyear last 5-year CTPP span, e.g. 2016 ctpp1216 survey geoids optional string vector GEOID codes limit table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve CTPP data — get_psrc_ctpp","text":"data table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp_api.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve CTPP data — get_psrc_ctpp_api","title":"Retrieve CTPP data — get_psrc_ctpp_api","text":"Retrieve CTPP data","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp_api.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve CTPP data — get_psrc_ctpp_api","text":"","code":"get_psrc_ctpp_api(scale, table_code, dyear = 2016, geoids = NULL)"},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp_api.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve CTPP data — get_psrc_ctpp_api","text":"scale \"county\", \"place\", \"tract\" residence/workplace tables; \"county-county\", \"place-place\", \"place-county\", \"county-place\", \"tract-tract\" O-D tables table_code either table code string--e.g. \"A302103\"--string vector variable codes dyear last 5-year CTPP span, e.g. 2016 ctpp1216 survey geoids optional string vector GEOID codes limit table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/get_psrc_ctpp_api.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve CTPP data — get_psrc_ctpp_api","text":"data table","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/psrc_ctpp_stat.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic call for CTPP summary statistics — psrc_ctpp_stat","title":"Generic call for CTPP summary statistics — psrc_ctpp_stat","text":"Given specific form related ctpp_stat functions.","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/psrc_ctpp_stat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic call for CTPP summary statistics — psrc_ctpp_stat","text":"","code":"psrc_ctpp_stat(df, group_vars, stat_type = \"sum\", incl_na = FALSE)"},{"path":"https://psrc.github.io/psrcctpp/reference/psrc_ctpp_stat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic call for CTPP summary statistics — psrc_ctpp_stat","text":"df result get_psrc_ctpp function group_vars grouping variables, original added stat_type now, \"sum\" option incl_na whether include NA lines","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/scale_code_lookup.html","id":null,"dir":"Reference","previous_headings":"","what":"Correspondence table for CTPP codes, table type, and scale — scale_code_lookup","title":"Correspondence table for CTPP codes, table type, and scale — scale_code_lookup","text":"Correspondence table CTPP codes, table type, scale","code":""},{"path":"https://psrc.github.io/psrcctpp/reference/scale_code_lookup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Correspondence table for CTPP codes, table type, and scale — scale_code_lookup","text":"","code":"scale_code_lookup()"},{"path":"https://psrc.github.io/psrcctpp/reference/scale_code_lookup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Correspondence table for CTPP codes, table type, and scale — scale_code_lookup","text":"correspondence table","code":""}]
